from __future__ import division
import numpy as np
# coding=utf-8

# es la estela sobre un disco
class Estela(object):
    def __init__(self, arreglo, cantidad_coords_adentro_disco, cantidad_turbinas_izquierda):
        self.arreglo = arreglo
        self.cantidad_coords_adentro_disco = cantidad_coords_adentro_disco
        self.cantidad_turbinas_izquierda = cantidad_turbinas_izquierda
        self.mergeada = None

    """
    Utilizo los tres métodos de superposición de estelas que utiliza el paper
    'Limitations to the validity of singlw wake superposition in wind
    farm yield assessment'
    """

    def merge(self, metodo):

        self.mergeada = np.zeros(self.cantidad_coords_adentro_disco)

        if (metodo=='linear'):

            for i in range(self.cantidad_coords_adentro_disco):
                for j in range(self.cantidad_turbinas_izquierda):
                    self.mergeada[i] += self.arreglo[i + self.cantidad_coords_adentro_disco*j]
